<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<!--
函数
2020年3月8日19:57:21
-->

</body>
</html>


<script type="text/javascript">

    let log = (...filed) => {
        const { log } = console
        log('\t', ...filed)
    }

    let f = v => v
    // 等同于

    let f1 = function (v) {
        return v
    }

    // 如果箭头函数里面要处理多个东西并返回，用{}包着，然后加上return
    let sum = (a, b) => {
        let a1 = a + 1
        let b1 = b + 2
        return a1 * b1
    }

    // 如果要返回一个对象，那么要用()包裹起来
    let getAStudent = id => ({ id, name: '张三' })
    log(getAStudent(1))

    // ES6
    function foo () {
        setTimeout(() => {
            console.log('id:', this.id)
        }, 100)
    }

    // ES5
    function foo2 () {
        var _this = this

        setTimeout(function () {
            console.log('id:', _this.id)
        }, 100)
    }

    // 嵌套箭头函数
    // 做一个可以让数组连续push的函数
    //  todo:我只是标记一下，这个方法第一次见
    // fixme: 以后我要做成一个数组随便push,pop的函数
    // 参考test/5.类测试.html
    let insert = (...array) => ({
        push: (value) => [...array, value],
        pop: (value) => [value, ...array],
    })

    log(insert(1, 2, 3).push(6))
    log(insert(1, 2, 3).pop(6))

    //管道函数
    const step1 = a => a + 4
    const step2 = a => a - 3
    const step3 = a => a * 2
    const step4 = a => a / 1

    log(step4(step3(step2(step1(1)))));


</script>

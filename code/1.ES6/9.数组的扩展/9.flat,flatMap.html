<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<!--
数组
2020年3月9日23:14:08
-->

</body>
</html>


<script type="text/javascript">

    let log = (...filed) => {
        const { log } = console
        log('\t', ...filed)
    }

    // 简单的例子flat
    let arr = [1, 2, [3, 4], [5, [6, 7]]]
    // 参数为数字，表示深度，默认拉平1层
    let result1 = arr.flat()
    log(result1) // [1,2,3,4,5,[6,7]]
    let result2 = arr.flat(2)
    log(result2) // [1,2,3,4,5,6,7]
    let result3 = arr.flat(Infinity)
    log(result3) // 强行转换为一维数组

    // 对于有空位的测试，和有特殊值的测试
    // 结论：会跳过空位 就是：[,,]
    let arr2 = [0, false, 1, true, null, undefined, , [, ,], [null, NaN, [null, undefined]]]
    let result4 = arr2.flat(5)
    log(result4) // 预测结果[0,false,1,true,null,undefined,null,NaN,null,undefined];
    log(arr)
    log(arr2) // 对于原数组没有影响

    log('---测试flatMap---')
    // 简单的例子 flatMap,只能展开一层
    let arr5 = [1, 2, 3, 4]
    let result5 = arr5.flatMap(x => [x, x * 2])
    let result6 = arr5.map(x => [x, x * 2])
    log('flatMap', result5)
    log('map', result6)

    // todo :1.flatMap的多层测试 2.flatMap的第二个参数this的用法


</script>

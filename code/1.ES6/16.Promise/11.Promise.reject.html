<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<!--
Promise
2020年3月17日13:54:30
-->

</body>
</html>


<script type="text/javascript">

    let log = (...filed) => {
        const { log } = console
        log('\t', ...filed)
    }

    function getPromise (number = 0, timeout = 1000) {
        return new Promise((resolve, reject) => {
            if (!number) {
                number = Math.floor(Math.random() * 10)
            }
            const arr = []
            for (let i = 0; i < number; i++) {
                arr.push(Math.floor(Math.random() * 10))
            }
            if (number >= 8) {
                setTimeout(reject, timeout, new Error('异常'))
            } else {
                setTimeout(resolve, timeout, arr)
            }
        })
    }

    // 瞧一瞧 看一看呐
    const p = Promise.reject('出错了')
    // 等同于
    const p = new Promise((resolve, reject) => reject('出错了'))

    p.then(null, function (s) {
        console.log(s)
    })
    // 出错了

    // 后面还有很多内容，不过我就不列举了，有点难，要用到后面学习的内容

</script>
